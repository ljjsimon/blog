<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        http简易指南 - ljj的博客
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i>  </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpeg">
        </div>
        <div class="name">
            <i>ljj</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li>
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li>
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP-报文内容"><span class="toc-text">HTTP 报文内容</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#起始行"><span class="toc-text">起始行</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#常用-HTTP-方法"><span class="toc-text">常用 HTTP 方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP-状态码"><span class="toc-text">HTTP 状态码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#首部"><span class="toc-text">首部</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Accept"><span class="toc-text">Accept</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Accept-Charset"><span class="toc-text">Accept-Charset</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Accept-Encoding"><span class="toc-text">Accept-Encoding</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cache-Control"><span class="toc-text">Cache-Control</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Connection"><span class="toc-text">Connection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Content-Encoding"><span class="toc-text">Content-Encoding</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Content-Length"><span class="toc-text">Content-Length</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Content-Type"><span class="toc-text">Content-Type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie-Cookie2"><span class="toc-text">Cookie, Cookie2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date"><span class="toc-text">Date</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ETag"><span class="toc-text">ETag</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Location"><span class="toc-text">Location</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set-Cookie-Set-Cookie2"><span class="toc-text">Set-Cookie, Set-Cookie2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#User-Agent"><span class="toc-text">User-Agent</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTTP-与-WebSocket"><span class="toc-text">HTTP 与 WebSocket</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input">
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i>  </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        http简易指南
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2018-07-07 10:24:03</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#http" title="http">http</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>

    </div>
    <div class="post-content no-indent">
        <h1 id="HTTP-报文内容"><a href="#HTTP-报文内容" class="headerlink" title="HTTP 报文内容"></a>HTTP 报文内容</h1><p>HTTP 报文是由一行一行的简单纯文本字符串组成的，不是二进制代码。下面是一个简单例子：</p>
<p>请求：
.|内容
-|-
起始行(start line) | GET /test/hi-there.php HTTP/1.0
首部(header) | Accept: text/*<br>Accept-Language: en,zh</p>
<p>响应：
.|内容
-|-
起始行(start line) | HTTP/1.0 200 OK
首部(header) | Content-type: text/plain<br>Content-length: 19
主体(body)   | Hi! I’m a message!</p>
<p>起始行和首部，由一个回车符（ASCII 13）和一个换行符（ASCII 10）作为结束。</p>
<h1 id="起始行"><a href="#起始行" class="headerlink" title="起始行"></a>起始行</h1><h2 id="常用-HTTP-方法"><a href="#常用-HTTP-方法" class="headerlink" title="常用 HTTP 方法"></a>常用 HTTP 方法</h2><p>请求报文起始行里的 <em>GET</em> 就是 HTTP 方法，其余方法参考下表：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>是否包含主题</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>从服务器获取一份文档</td>
<td>否</td>
</tr>
<tr>
<td>HEAD</td>
<td>只从服务器获取文档的首部</td>
<td>否</td>
</tr>
<tr>
<td>POST</td>
<td>向服务器发送需要处理的数据</td>
<td>是</td>
</tr>
<tr>
<td>PUT</td>
<td>将请求的主体部分存储在服务器上</td>
<td>是</td>
</tr>
<tr>
<td>TRACE</td>
<td>对可能经过代理服务器传输到服务器上去的报文进行追踪</td>
<td>否</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>决定可以在服务器上执行哪些方法</td>
<td>否</td>
</tr>
<tr>
<td>DELETE</td>
<td>从服务器上删除一份文档</td>
<td>否</td>
</tr>
</tbody>
</table>
<h2 id="HTTP-状态码"><a href="#HTTP-状态码" class="headerlink" title="HTTP 状态码"></a>HTTP 状态码</h2><p>响应报文起始行里的 <em>200</em> 就是 HTTP 状态吗，其他状态码参考下表：</p>
<table>
<thead>
<tr>
<th>整体范围</th>
<th>已定义范围</th>
<th>分类</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>100 ~ 199</td>
<td>100 ~ 101</td>
<td>信息提示</td>
<td>这一类型的状态码，代表请求已被接受，需要继续处理。这类响应是临时响应，只包含状态行和某些可选的响应头信息，并以空行结束。</td>
</tr>
<tr>
<td>200 ~ 299</td>
<td>200 ~ 206</td>
<td>成功</td>
<td>这一类型的状态码，代表请求已成功被服务器接收、理解、并接受</td>
</tr>
<tr>
<td>300 ~ 399</td>
<td>300 ~ 305</td>
<td>重定向</td>
<td>这类状态码代表需要客户端采取进一步的操作才能完成请求。通常，这些状态码用来重定向，后续的请求地址（重定向目标）在本次响应的 Location 域中指明。其中301是永久重定向，302是临时重定向。</td>
</tr>
<tr>
<td>400 ~ 499</td>
<td>400 ~ 415</td>
<td>客户端错误</td>
<td>这类的状态码代表了客户端看起来可能发生了错误，妨碍了服务器的处理。其中401是未授权，404是找不到请求资源。</td>
</tr>
<tr>
<td>500 ~ 599</td>
<td>500 ~ 505</td>
<td>服务端错误</td>
<td>这类状态码代表了服务器在处理请求的过程中有错误或者异常状态发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。</td>
</tr>
</tbody>
</table>
<h1 id="首部"><a href="#首部" class="headerlink" title="首部"></a>首部</h1><p>HTTP 首部字段有很多，而且可以添加自定义的字段，这里只列几个比较常见或重要的。</p>
<p>首先要说明很多字段值可以加一个质量值 <strong>“q”</strong>，定义各个值的权重，例如这个首部：</p>
<blockquote>
<p>Accept-Language: en;q=0.5, fr;q=0.0, nl;q=1.0, tr;q=0.0</p>
</blockquote>
<p>q 值的范围从 0.0 ～ 1.0（0.0是优先级最低，而1.0是优先级最高的）。注意偏好的排序不重要，只有 q 值才是重要的。</p>
<h2 id="Accept"><a href="#Accept" class="headerlink" title="Accept"></a>Accept</h2><p>客户端用 Accept 首部来通知服务器可以接受哪些媒体类型。</p>
<ul>
<li><strong>类型</strong>：请求首部</li>
<li><strong>注释</strong>：可以用”<em>“通配符。例如”</em>/<em>“,”image/</em>“</li>
<li><strong>举例</strong>：Accept: text/<em>, image/</em></li>
</ul>
<h2 id="Accept-Charset"><a href="#Accept-Charset" class="headerlink" title="Accept-Charset"></a>Accept-Charset</h2><p>客户端用 Accept-Charset 通知服务器可以接受哪些字符集。</p>
<ul>
<li><strong>类型</strong>：请求首部</li>
<li><strong>注释</strong>：和 Accept 一样支持通配符</li>
<li><strong>举例</strong>：Accept-Charset: utf-8</li>
</ul>
<h2 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h2><p>客户端用 Accept-Encoding 首部来告诉服务器可以接受哪些编码方式。</p>
<ul>
<li><strong>类型</strong>：请求首部</li>
<li><strong>举例</strong>：Accept-Encoding: gzip;q=1.0, compress;q=0.5</li>
</ul>
<h2 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h2><ul>
<li><strong>类型</strong>：通用首部</li>
<li><strong>举例</strong>：Cache-Control: no-cache</li>
</ul>
<h2 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h2><p>在 HTTP/1.0 中 默认关闭 Keep-Alive 模式，要通过 Connection: Keep-Alive 打开。在 HTTP/1.1 中默认开启了 Keep-alive 模式，通过加入 Connection: close 才关闭。</p>
<ul>
<li><strong>类型</strong>：通用首部</li>
<li><strong>举例</strong>：Connection: close</li>
</ul>
<h2 id="Content-Encoding"><a href="#Content-Encoding" class="headerlink" title="Content-Encoding"></a>Content-Encoding</h2><p>Content-Encoding 首部用于说明是否对某对象进行过编码。</p>
<ul>
<li><strong>类型</strong>：实体首部</li>
<li><strong>举例</strong>：Content-Encoding: compress, gzip</li>
</ul>
<h2 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h2><p>Content-Length 首部说明实体<strong>主体</strong>部分的长度。HEAD 请求响应中如果有这个首部，表示如果发送的话，实体主体的长度。</p>
<ul>
<li><strong>类型</strong>：实体首部</li>
<li><strong>举例</strong>：Content-Length: 2417</li>
</ul>
<h2 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h2><p>Content-Type 首部说明了报文中对象的媒体类型。</p>
<ul>
<li><strong>类型</strong>：实体首部</li>
<li><strong>举例</strong>：Content-Type: text/html; charset=utf-8</li>
</ul>
<h2 id="Cookie-Cookie2"><a href="#Cookie-Cookie2" class="headerlink" title="Cookie, Cookie2"></a>Cookie, Cookie2</h2><p>Cookie 用来改变 Cookie，Cookie2 是对 Cookie 的扩展</p>
<ul>
<li><strong>类型</strong>：扩展请求首部</li>
<li><strong>举例</strong>：Cookie: name=”ljj”</li>
</ul>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2><p>Date 首部给出了报文创建的日期和时间。</p>
<ul>
<li><strong>类型</strong>：通用首部</li>
<li><strong>举例</strong>：Date: Tue, 3 Oct 1997 02:15:31 GMT</li>
</ul>
<h2 id="ETag"><a href="#ETag" class="headerlink" title="ETag"></a>ETag</h2><p>ETag 首部为保文中包含的实体提供了实体标记。实体标记实际上就是一种标识资源的方式。</p>
<ul>
<li><strong>类型</strong>：实体首部</li>
<li><strong>举例</strong>：ETag: “11e92a-457b-31345aa”</li>
</ul>
<h2 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h2><p>服务器可以通过 Location 首部将客户端导向某个资源地址。浏览器收到这个首部将会跳转。</p>
<ul>
<li><strong>类型</strong>：响应首部</li>
<li><strong>举例</strong>：Location: <a href="http://www.ljj.pub" target="_blank" rel="noopener">http://www.ljj.pub</a></li>
</ul>
<h2 id="Set-Cookie-Set-Cookie2"><a href="#Set-Cookie-Set-Cookie2" class="headerlink" title="Set-Cookie, Set-Cookie2"></a>Set-Cookie, Set-Cookie2</h2><p>Set-Cookie 首部是 Cookie 的搭档，规定了 Cookie 的作用域和其他一些信息。Set-Cookie2 是对 Set-Cookie 的扩展。</p>
<ul>
<li><strong>类型</strong>：扩展响应首部</li>
<li><strong>举例</strong>：Set-Cookie: name=ljj; domain=”ljj.pub”; path=/posts/</li>
</ul>
<p>例子里 name=ljj 是强制的，其他都是可选的</p>
<h2 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h2><p>客户端用 User-Agent 首部来表示其类型</p>
<ul>
<li><strong>类型</strong>：请求首部</li>
<li><strong>举例</strong>：User-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)</li>
</ul>
<p>另外说明一个，Age（秒）, Cache-Control, Expire（日期） 是设定为计算缓存生命周期的，但现在更好的做法是永久缓存，然后给 URL 加版本号的方法更新文件。</p>
<h1 id="HTTP-与-WebSocket"><a href="#HTTP-与-WebSocket" class="headerlink" title="HTTP 与 WebSocket"></a>HTTP 与 WebSocket</h1><p>WebSocket 是在 HTTP 基础上的协议，需要浏览器支持。WebSocket 允许客户端和服务器通过长链接双工通信，即两边可以不断的向另一边发送信息而不用重新连接。没有 WebSocket 协议之前如果服务器要不断向浏览器发送信息，就要打开长链接（Connection: Keep-Alive，默认打开），而且只能服务器向浏览器发送。而且由于服务端保持长链接开销很大，通常通过客户端隔一段时间请求来实现。</p>
<hr>
<p>参考资料：
《HTTP权威指南》
http状态码：<a href="https://baike.baidu.com/item/HTTP状态码/5053660?fr=aladdin" target="_blank" rel="noopener">https://baike.baidu.com/item/HTTP状态码/5053660?fr=aladdin</a></p>

        
        <br>
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/simonlin">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="http://weibo.com/1919879611">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        

        
        <li>
            <a target="_blank" href="https://github.com/questionlin">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
